<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="Content-Security-Policy" content="default-src *;
      img-src * 'self' data: https:; script-src 'self' 'unsafe-inline' 'unsafe-eval' *;
      style-src  'self' 'unsafe-inline' *"
    >
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel='shortcut icon' type='image/x-icon' href='./img/svg/cuntato.svg' />
    <title>Dashboard | <%= user.name %></title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css"    
    />
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Google+Sans"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/gh/konpa/devicon@master/devicon.min.css"
    />
    <link rel="stylesheet" href="./css/style.min.css" />
    <link rel="stylesheet" href="./css/loader.css" />
    <style>
      main{
        display:none
      }
    </style>
  </head>
  <body>
    <header>
      <div class="navbar-fixed">
        <nav class="white z-depth-1">
          <div class="nav-wrapper">
            <a href="/dashboard" class="brand-logo">Cuntato</a>
            <ul id="nav-mobile" class="right">
              <li>
                <img
                  src=<%= user.picture %>
                  alt="avatar"
                  id="avatar"
                  class="responsive-img circle dropdown-trigger"
                  data-target="dropdown1"
                />
              </li>
            </ul>
            <ul id="dropdown1" class="dropdown-content">
              <li><a href="/profile"><%= user.name %></a></li>
              <li class="divider" tabindex="-1"></li>
              <li><a href="/logout">Sign Out</a></li>
            </ul>
          </div>
        </nav>
      </div>

      <!-- PRELOADER  -->
      <div class="circle-loader">
        <div class="loader-container">
          <div class="ball"></div>
          <div class="ball"></div>
          <div class="ball"></div>
          <div class="ball"></div>
        </div>
      </div>
    </header>

    <main>
      <div class="small-div"></div>
      <div class="container">
        <h4 class="white-text">Your projects</h4>
        <div class="row">
          <div class="col s12 m6 l4">
            <a href="#add-project" class="add-card modal-trigger">
              <div class="card-panel rounded center-align">
                <i class="material-icons center add-icon">add</i>
                <h5>
                  Add project
                </h5>
              </div>
            </a>
          </div>
        </div>

        <span id=<%= user.id %> ></span>
        <div class="row">
          <div id="projectList"></div>
        </div>
      </div>

      <!-- MODAL -->
      <div id="add-project" class="modal rounded">
        <div class="modal-content">
          <div class="row">
            <div class="input-field col s12">
              <input
                placeholder="eg. personal-site"
                id="projectName"
                type="text"
                class="validate"
                autocomplete="off"
                required
              />
              <label for="projectName">Project Name</label>
            </div>
            <div class="input-field col s12">
              <input
                placeholder="eg. https://cuntato.devfik.com/"
                id="domainURL"
                type="text"
                class="validate"
                pattern="^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\(\)\*\+,;=.]+$"
                autocomplete="off"
                required
              />
              <label for="domainURL">Domain name</label>
              <span
                class="helper-text"
                data-error="Invalid url"
                data-success="Valid url"
              ></span>
            </div>
          </div>
          <div class="row">
            <div class="col s12">
              <input
                id="createID"
                type="submit"
                value="Create project"
                class="btn auth-btn center"
              />
            </div>
          </div>
          <div class="row">
            <div class="col s12">
              <ul class="condition">
                <li>* Your project name must be unique.</li>
                <li>
                  * After creating project you'll be given a project token.
                </li>
                <li>
                  * You can't make more than three project right now.
                  <a href="https://github.com/devfikdark/cuntato" target="_blank">Learn more</a>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      <img src="./img/blbo2.svg" alt="blob1" class="blob" />
    
    </main>
    <!-- jQuery cdn -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <!-- Materialize js cdn -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <!-- Custom JS -->
    <script src="./js/app.js"></script>
    <script src="./js/dashboardController.js"></script>
  </body>
</html>
